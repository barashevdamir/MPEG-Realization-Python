# M-JPEG - MPEG Realization (Python Version)

## Описание проекта

Данный проект реализует систему кодирования и декодирования видео на основе стандартов MPEG, охватывая процессы извлечения кадров из исходных данных, преобразования цвета, предсказания движения, сжатия и упаковки.

### В кодере реализованы функции для: 

* Извлечение кадров из RAW-данных;
* Создание GIF-анимации из изначальных данных.
* Конвертация кадров в цветовое пространство YUV;
* Субдискретизация (4 : 4 : 4 -> 4 : 2 : 0)
* Определения типов кадров (I, P, B - типы);
* Применение ДКП (дискретного косинусного преобразования);
* Zig-Zag сканирование;
* Кодирование по длинам серий;
* Кодирование Хаффмана;
* Создание пакета данных с размерами кадров, закодированными кадрами, таблицами Хаффмана, типами кадров и матрицами квантования;
* Запись пакета с данными в бинарный файл.

### В декодере реализованы функции для: 

* Извлечение пакета данных из бинарного файла;
* Декодирование Хаффмана;
* Декодирование по длинам серий;
* Обратное Zig-Zag сканирование;
* Применение обратного ДКП;
* Обратная субдискретизация (4 : 2 : 0 -> 4 : 4 : 4)
* Конвертация кадров в цветовое пространство RGB;
* Создание GIF-анимации из декодированных кадров;
* Расчет PSNR и коэффициента деградации между соответствующими изображениями.

## Структура проекта

```plaintext
.
├── encoder.py                  # Основной файл для кодера MPEG.
├── decoder.py                  # Основной файл для декодера MPEG.
├── huffman.py                  # Файл, содержащий в себе логику для кодирования и декодирования методом Хаффмана.
├── determine_frames_types.py   # Файл, содержащий в себе логику для определения типов кадров.
└── atom/box.py                 # Файл, содержащий логику для создания контейнеров по стандарту MPEG.
```

## Примечание

Для получения сырых данных использовался функционал ffmpeg для получения .RAW файлов из видео формата .mp4:

```bash
ffmpeg -i "путь до вашего файла MP4" -vf format=rgb24 -vsync 0 "frames/frame_%d.RAW"
```



